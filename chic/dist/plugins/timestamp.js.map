{
  "version": 3,
  "sources": ["../../lib/plugins/timestamp.ts"],
  "sourcesContent": ["import type { Chic, ChicLogger, ChicLoggers, ChicPlugin } from 'chic';\r\nimport { ChicPluginFunction } from 'chic';\r\n\r\n/** Installer the `timestamp` plugin. Not intended to be used directly\r\n * @internal\r\n * @param {Chic} chic\r\n * @returns {Timestamp} */\r\nconst install: ChicPlugin<Timestamp>['install'] = (chic: Chic): Timestamp => {\r\n  const makeLogger =\r\n    (format: (date: Date) => string, mode: keyof ChicLoggers, style: string): ChicLogger =>\r\n    (strs, ...styles) =>\r\n      chic[mode]([format(new Date()), ...strs], style, ...styles);\r\n  const dateStyle = chic.fontStyle.italic.marginRight._0_5rem();\r\n  /** Creates a set of `Chic` loggers that automatically prepend a styleable timestamp before the provided message\r\n   * @param {TimestampConfig} config\r\n   * @returns {ChicLoggers} */\r\n  const timestamp = <Timestamp>(({\r\n    format = (date: Date) => `[${date.toLocaleString()}]`,\r\n    style = dateStyle,\r\n  } = {}) => ({\r\n    debug: makeLogger(format, 'debug', style),\r\n    error: makeLogger(format, 'error', style),\r\n    group: makeLogger(format, 'group', style),\r\n    groupCollapsed: makeLogger(format, 'groupCollapsed', style),\r\n    groupEnd: chic.groupEnd.bind(chic),\r\n    info: makeLogger(format, 'info', style),\r\n    log: makeLogger(format, 'log', style),\r\n    warn: makeLogger(format, 'warn', style),\r\n  }));\r\n\r\n  return timestamp;\r\n};\r\n\r\n/** Installer object for the `timestamp` plugin */\r\nconst timestamp: ChicPlugin<Timestamp> = { id: 'timestamp', install };\r\n\r\nexport { timestamp };\r\n\r\n/** Creates a set of `Chic` loggers that automatically prepend a styleable timestamp before the provided message */\r\nexport interface Timestamp extends ChicPluginFunction {\r\n  /** Creates a set of `Chic` loggers that automatically prepend a styleable timestamp before the provided message\r\n   * @param {TimestampConfig} config\r\n   * @returns {ChicLoggers} */\r\n  (config: TimestampConfig): ChicLoggers;\r\n}\r\n/** Configuration for the `timestamp` plugin */\r\nexport type TimestampConfig = {\r\n  format?: (date: Date) => string;\r\n  style?: string;\r\n};\r\n\r\ndeclare module 'chic' {\r\n  interface ChicPlugins {\r\n    /** Creates a set of `Chic` loggers that automatically prepend a styleable timestamp before the provided message\r\n     * @internal */\r\n    timestamp: Timestamp;\r\n  }\r\n}\r\n"],
  "mappings": "AAOA,MAAM,UAA4C,CAAC,SAA0B;AAC3E,QAAM,aACJ,CAAC,QAAgC,MAAyB,UAC1D,CAAC,SAAS,WACR,KAAK,IAAI,EAAE,CAAC,OAAO,oBAAI,KAAK,CAAC,GAAG,GAAG,IAAI,GAAG,OAAO,GAAG,MAAM;AAC9D,QAAM,YAAY,KAAK,UAAU,OAAO,YAAY,QAAQ;AAI5D,QAAMA,aAAwB,CAAC;AAAA,IAC7B,SAAS,CAAC,SAAe,IAAI,KAAK,eAAe,CAAC;AAAA,IAClD,QAAQ;AAAA,EACV,IAAI,CAAC,OAAO;AAAA,IACV,OAAO,WAAW,QAAQ,SAAS,KAAK;AAAA,IACxC,OAAO,WAAW,QAAQ,SAAS,KAAK;AAAA,IACxC,OAAO,WAAW,QAAQ,SAAS,KAAK;AAAA,IACxC,gBAAgB,WAAW,QAAQ,kBAAkB,KAAK;AAAA,IAC1D,UAAU,KAAK,SAAS,KAAK,IAAI;AAAA,IACjC,MAAM,WAAW,QAAQ,QAAQ,KAAK;AAAA,IACtC,KAAK,WAAW,QAAQ,OAAO,KAAK;AAAA,IACpC,MAAM,WAAW,QAAQ,QAAQ,KAAK;AAAA,EACxC;AAEA,SAAOA;AACT;AAGA,MAAM,YAAmC,EAAE,IAAI,aAAa,QAAQ;",
  "names": ["timestamp"]
}
